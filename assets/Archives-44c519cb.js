import{P as c,r as a,j as e,i as j,R as v,A as w,o as y,e as b}from"./index-b4d769f6.js";import{P}from"./PageHeader-945daa05.js";import{u as N}from"./useFetch-608316c7.js";const S={hover:{scale:1.05,transition:{duration:.3,repeatType:"reverse"}}},p=({title:i,path:n,img:t})=>e.jsxs("div",{className:"w-[300px] group relative h-[200px] overflow-hidden bg-red-600 rounded-xl",children:[e.jsx("div",{className:"w-full  h-full",children:e.jsx("img",{width:640,height:360,className:"w-full h-full object-cover",src:t,alt:"",loading:"lazy"})}),e.jsx("div",{className:"absolute flex justify-center items-center inset-0 bg-black/40 translate-y-full group-hover:translate-y-0 duration-300",children:e.jsx(y.div,{className:"w-full",variants:S,whileHover:"hover",children:e.jsx(b,{to:`${n}`,className:"bg-[#eee] text-center rounded-2xl flex justify-center items-center text-xl cursor-pointer w-4/5 mx-auto py-2",children:i})})})]});p.propTypes={title:c.string,path:c.number,img:c.string};const D=()=>{const[i,n]=a.useState([]),[t,u]=a.useState(1),{data:o,isLoading:r,error:d}=N(`/api/party/opened?page=${t}&count=6`),[m,x]=a.useState(1),[g,f]=a.useState(8),h=()=>{window.sessionStorage.setItem("scrollPosition",window.pageYOffset)};return a.useEffect(()=>{!r&&!d&&(n(s=>[...s,...o.data.data]),x(o.data.last_page),f(o.data.per_page))},[r,d,o]),a.useEffect(()=>{const s=sessionStorage.getItem("scrollPosition");s&&(window.scrollTo(0,parseInt(s)),sessionStorage.removeItem("scrollPosition"))},[i]),e.jsxs("main",{className:"mt-16",children:[e.jsx(P,{img:j.aboutHeader,text:"Damascus Opera Archives"}),e.jsxs("div",{className:"w-[90%] mx-auto bg-[#CAD2D3] my-4 rounded-xl shadow-lg",children:[e.jsx("div",{className:"w-[95%] mx-auto pb-4 pt-8 flex flex-wrap gap-4 justify-center items-center",children:r&&t===1?Array(g*t).fill(0).map((s,l)=>e.jsx(v.Fragment,{},l)):i.map(s=>e.jsx(p,{path:s.id,img:s.photo,title:s.name},s.id))}),t===m?null:e.jsx("div",{className:"flex justify-center items-center pb-4",children:e.jsx("button",{onClick:s=>{s.preventDefault(),s.stopPropagation(),h(),t!==m&&u(l=>l+1)},disabled:r,className:"bg-secondary uppercase w-24 flex justify-center disabled:bg-secondary/80 items-center py-2 rounded-lg mt-5 text-xl text-white hover:bg-secondary/80 active:scale-105",children:r&&t>1?e.jsx(w,{className:"text-3xl animate-spin"}):e.jsx("span",{children:"more"})})})]})]})};export{D as default};

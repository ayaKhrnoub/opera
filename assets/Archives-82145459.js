import{P as c,r,j as e,i as w,n as b,R as P,A as N,o as S,d as A,f as F,g as I}from"./index-a5b3392c.js";import{P as L}from"./PageHeader-7cd21af6.js";import{u as D}from"./useFetch-b764065d.js";const E={hover:{scale:1.05,transition:{duration:.3,repeatType:"reverse"}}},u=({title:o,path:l,img:t})=>e.jsxs("div",{className:"w-[300px] group relative h-[200px] overflow-hidden bg-red-600 rounded-xl",children:[e.jsx("div",{className:"w-full  h-full",children:e.jsx("img",{width:640,height:360,className:"w-full h-full object-cover",src:t,alt:"",loading:"lazy"})}),e.jsx("div",{className:"absolute flex justify-center items-center inset-0 bg-black/40 translate-y-full group-hover:translate-y-0 duration-300",children:e.jsx(S.div,{className:"w-full",variants:E,whileHover:"hover",children:e.jsx(A,{to:`${l}`,className:"bg-[#eee] text-center rounded-2xl flex justify-center items-center text-xl cursor-pointer w-4/5 mx-auto py-2",children:o})})})]});u.propTypes={title:c.string,path:c.number,img:c.string};const $=()=>{const[o,l]=r.useState([]),[t,x]=r.useState(1),{data:i,isLoading:n,error:d}=D(`/api/party/opened?page=${t}&count=6`),[m,g]=r.useState(1),[f,h]=r.useState(8),j=()=>{window.sessionStorage.setItem("scrollPosition",window.pageYOffset)},[p,v]=r.useState("");r.useEffect(()=>{!n&&!d&&(l(s=>[...s,...i.data.data]),g(i.data.last_page),h(i.data.per_page))},[n,d,i]),r.useEffect(()=>{const s=sessionStorage.getItem("scrollPosition");s&&(window.scrollTo(0,parseInt(s)),sessionStorage.removeItem("scrollPosition"))},[o]);const y=async s=>{s.preventDefault(),console.log("first");try{const a=await F.get(`${I}/api/party/search?name=${p}`);console.log(a)}catch(a){console.log(a)}};return e.jsxs("main",{className:"mt-16",children:[e.jsx(L,{img:w.aboutHeader,text:"Damascus Opera Archives"}),e.jsxs("div",{className:"w-[90%] mx-auto bg-[#CAD2D3] my-4 rounded-xl shadow-lg",children:[e.jsxs("form",{onSubmit:y,className:"flex py-4 w-6/12 mx-auto px-3 my-4",children:[e.jsx("div",{className:"w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center",children:e.jsx(b,{className:"text-2xl"})}),e.jsx("input",{value:p,onChange:s=>v(s.target.value),type:"text",className:"w-full bg-[#FEF5F5] -ml-10 pl-10 pr-3 py-2 rounded-xl border-none outline-none  focus:ring-primary focus:ring-2",placeholder:"Search"})]}),e.jsx("div",{className:"w-[95%] mx-auto pb-4 flex flex-wrap gap-4 justify-center items-center",children:n&&t===1?Array(f*t).fill(0).map((s,a)=>e.jsx(P.Fragment,{},a)):o.map(s=>e.jsx(u,{path:s.id,img:s.photo,title:s.name},s.id))}),t===m?null:e.jsx("div",{className:"flex justify-center items-center pb-4",children:e.jsx("button",{onClick:s=>{s.preventDefault(),s.stopPropagation(),j(),t!==m&&x(a=>a+1)},disabled:n,className:"bg-secondary uppercase w-24 flex justify-center disabled:bg-secondary/80 items-center py-2 rounded-lg mt-5 text-xl text-white hover:bg-secondary/80 active:scale-105",children:n&&t>1?e.jsx(N,{className:"text-3xl animate-spin"}):e.jsx("span",{children:"more"})})})]})]})};export{$ as default};

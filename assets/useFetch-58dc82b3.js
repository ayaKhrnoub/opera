import{f as h,r,g as n,h as k}from"./index-f048c21e.js";const p=a=>{const{token:c}=h(),[i,s]=r.useState({data:[],isLoading:!0,error:!1,errorMessage:""}),t=n.CancelToken.source(),d=r.useCallback(async()=>{try{const e=await(await n.get(`${k}${a}`,{cancelToken:t.token,headers:{Authorization:`Bearer ${c}`}})).data;e&&s({data:e.results?e.results:e,isLoading:!1,error:!1,errorMessage:""})}catch(o){s({data:[],isLoading:!1,error:!0,errorMessage:o})}},[a]);r.useEffect(()=>(s({data:[],isLoading:!0,error:!1,errorMessage:""}),d(),()=>t.cancel()),[a]);const{data:u,isLoading:f,error:g,errorMessage:l}=i;return{data:u,isLoading:f,error:g,errorMessage:l}};export{p as u};
